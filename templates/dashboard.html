{% extends "base.html" %} {% block content %}
<h2>Dashboard</h2>

<p>Total Income: ${{ total_income }}</p>
<p>Total Expenses: ${{ total_expense }}</p>
<p>Balance: ${{ balance }}</p>

<h3>Add Transaction</h3>
<form method="POST">
  <input
    type="number"
    step="0.01"
    name="amount"
    placeholder="Amount"
    required
  /><br />
  <input type="text" name="category" placeholder="Category" required /><br />
  <select name="type" required>
    <option value="income">Income</option>
    <option value="expense">Expense</option></select
  ><br />
  <button type="submit">Add</button>
</form>

<h3>Transactions</h3>
<table border="1" cellpadding="5">
  <tr>
    <th>Date</th>
    <th>Amount</th>
    <th>Category</th>
    <th>Type</th>
  </tr>
  {% for t in transactions %}
  <tr>
    <td>{{ t.date.strftime('%Y-%m-%d %H:%M') }}</td>
    <td>{{ t.amount }}</td>
    <td>{{ t.category }}</td>
    <td>{{ t.type }}</td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
